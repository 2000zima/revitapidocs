{% macro header() %}<title>ElementIntersectsSolidFilter Class</title>{% assets "css_chm" %}<link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}" />{% endassets %}{% assets "js_assets" %}<script src="{{ ASSET_URL }}"></script>{% endassets %}<meta name="container" content="Autodesk.Revit.DB" /><meta name="file" content="19276b94-fa39-64bb-bfb8-c16967c83485" /><meta name="guid" content="19276b94-fa39-64bb-bfb8-c16967c83485" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script>{% endmacro %}<div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText">Revit 2017 API</span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">ElementIntersectsSolidFilter Class</span></td></tr><tr id="headerTableRow3"><td align="left"><a href="939e9c37-4faf-8261-94d3-e6625bdcd3cb.htm">Members</a> <a href="#exampleToggle" onclick="OpenSection(exampleToggle)">Example</a> <a href="#seeAlsoToggle" onclick="OpenSection(seeAlsoToggle)">See Also</a> <span id="headfeedbackarea" class="feedbackhead"><a href="javascript:SubmitFeedback('revitapifeedback@autodesk.com','Revit 2017 API','','','','%0\dYour%20feedback%20is%20used%20to%20improve%20the%20documentation%20and%20the%20product.%20Your%20e-mail%20address%20will%20not%20be%20used%20for%20any%20other%20purpose%20and%20is%20disposed%20of%20after%20the%20issue%20you%20report%20is%20resolved.%20%20While%20working%20to%20resolve%20the%20issue%20that%20you%20report,%20you%20may%20be%20contacted%20via%20e-mail%20to%20get%20further%20details%20or%20clarification%20on%20the%20feedback%20you%20sent.%20After%20the%20issue%20you%20report%20has%20been%20addressed,%20you%20may%20receive%20an%20e-mail%20to%20let%20you%20know%20that%20your%20feedback%20has%20been%20addressed.%0\A%0\d','Customer%20Feedback');">Send Feedback</a></span></td></tr></table></div><div id="mainSection"><div id="mainBody"><div class="summary">
   A filter to find elements that intersect the given solid geometry.
</div><p /><b>Namespace:</b> <a href="87546ba7-461b-c646-cbb1-2cb8f5bff8b2.htm">Autodesk.Revit.DB</a><br /><b>Assembly:</b> <span sdata="assembly">RevitAPI</span> (in RevitAPI.dll) Version: 17.0.0.0 (17.0.484.0)<br /><b>Since:</b> 
   2012
<h1 class="heading"><span onclick="ExpandCollapse(syntaxToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(syntaxToggle, event)" tabindex="0"><img id="syntaxToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Syntax</span></h1><div id="syntaxSection" class="section" name="collapseableSection" style=""><div id="syntaxCodeBlocks" class="code"><span codeLanguage="CSharp"><table><tr><th>C#</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">ElementIntersectsSolidFilter</span> : <a href="b9e3bdcb-e85a-832d-0f51-312b3fd91cff.htm">ElementIntersectsFilter</a></pre></td></tr></table></span><span codeLanguage="VisualBasicDeclaration"><table><tr><th>Visual Basic</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">ElementIntersectsSolidFilter</span> _
	<span class="keyword">Inherits</span> <a href="b9e3bdcb-e85a-832d-0f51-312b3fd91cff.htm">ElementIntersectsFilter</a></pre></td></tr></table></span><span codeLanguage="ManagedCPlusPlus"><table><tr><th>Visual C++</th></tr><tr><td><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">ElementIntersectsSolidFilter</span> : <span class="keyword">public</span> <a href="b9e3bdcb-e85a-832d-0f51-312b3fd91cff.htm">ElementIntersectsFilter</a></pre></td></tr></table></span></div></div><h1 class="heading"><span onclick="ExpandCollapse(remarksToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(remarksToggle, event)" tabindex="0"><img id="remarksToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Remarks</span></h1><div id="remarksSection" class="section" name="collapseableSection" style=""><p> The input solid used for this filter can be obtained from an existing element, created from scratch
   using the routines in GeometryCreationUtilities or builder classes, or the generated from the result of a
   secondary operation such as a Boolean operation. Similar to the <a href="404df79f-2e48-ad4d-2654-a49aa5bf4443.htm">ElementIntersectsElementFilter</a>,
   this filter will not detect as intersecting elements which lack solid geometry, such as Rebar.</p><p>This filter is a slow filter.
   Slow filters require that the Element be obtained and expanded in memory first.
   Thus it is preferable to couple this filter with at least one ElementQuickFilter,
   which should minimize the number of Elements that are expanded.</p></div><h1 class="heading"><span onclick="ExpandCollapse(exampleToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(exampleToggle, event)" tabindex="0"><img id="exampleToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Examples</span></h1><div id="exampleSection" class="section" name="collapseableSection" style=""><span id="cbc_1" x-lang="CSharp" codeLanguage="CSharp"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img style="margin-right: 5px;" src="../icons/CopyCode.gif" />Copy</span>C#</div><div class="code"><pre xml:space="preserve"><span class="highlight-comment">// Find intersections between family instances and a selected element</span>
Reference reference = uidoc.Selection.PickObject(ObjectType.Element, <span class="highlight-literal">"Select element that will be checked for intersection with all family instances"</span>);
Element element = doc.GetElement(reference);
GeometryElement geomElement = element.get_Geometry(<span class="highlight-keyword">new</span> Options());
Solid solid = <span class="highlight-keyword">null</span>;
<span class="highlight-keyword">foreach</span> (GeometryObject geomObj <span class="highlight-keyword">in</span> geomElement)
{
    solid = geomObj <span class="highlight-keyword">as</span> Solid;
    <span class="highlight-keyword">if</span> (solid != <span class="highlight-keyword">null</span>) <span class="highlight-keyword">break</span>;
}

FilteredElementCollector collector = <span class="highlight-keyword">new</span> FilteredElementCollector(doc);
collector.OfClass(<span class="highlight-keyword">typeof</span>(FamilyInstance));
collector.WherePasses(<span class="highlight-keyword">new</span> ElementIntersectsSolidFilter(solid)); <span class="highlight-comment">// Apply intersection filter to find matches</span>

TaskDialog.Show(<span class="highlight-literal">"Revit"</span>, collector.Count() + <span class="highlight-literal">" family instances intersect with the selected element ("</span> + element.Category.Name + <span class="highlight-literal">" id:"</span> + element.Id.ToString() + <span class="highlight-literal">")"</span>);</pre></div></span><span id="cbc_2" x-lang="CSharp" codeLanguage="CSharp"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img style="margin-right: 5px;" src="../icons/CopyCode.gif" />Copy</span>C#</div><div class="code"><pre xml:space="preserve"><span class="highlight-comment">// Find intersections between family instances and a selected element</span>
Reference reference = uidoc.Selection.PickObject(ObjectType.Element, <span class="highlight-literal">"Select element that will be checked for intersection with all family instances"</span>);
Element element = doc.GetElement(reference);
GeometryElement geomElement = element.get_Geometry(<span class="highlight-keyword">new</span> Options());
Solid solid = <span class="highlight-keyword">null</span>;
<span class="highlight-keyword">foreach</span> (GeometryObject geomObj <span class="highlight-keyword">in</span> geomElement)
{
    solid = geomObj <span class="highlight-keyword">as</span> Solid;
    <span class="highlight-keyword">if</span> (solid != <span class="highlight-keyword">null</span>) <span class="highlight-keyword">break</span>;
}

FilteredElementCollector collector = <span class="highlight-keyword">new</span> FilteredElementCollector(doc);
collector.OfClass(<span class="highlight-keyword">typeof</span>(FamilyInstance));
collector.WherePasses(<span class="highlight-keyword">new</span> ElementIntersectsSolidFilter(solid)); <span class="highlight-comment">// Apply intersection filter to find matches</span>

TaskDialog.Show(<span class="highlight-literal">"Revit"</span>, collector.Count() + <span class="highlight-literal">" family instances intersect with the selected element ("</span> + element.Category.Name + <span class="highlight-literal">" id:"</span> + element.Id.ToString() + <span class="highlight-literal">")"</span>);</pre></div></span><span id="cbc_3" x-lang="VisualBasic" codeLanguage="VisualBasic"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img style="margin-right: 5px;" src="../icons/CopyCode.gif" />Copy</span>VB.NET</div><div class="code"><pre xml:space="preserve"><span class="highlight-comment">' Find intersections between family instances and a selected element</span>
<span class="highlight-keyword">Dim</span> reference <span class="highlight-keyword">As</span> Reference = uidoc.Selection.PickObject(ObjectType.Element, <span class="highlight-literal">"Select element that will be checked for intersection with all family instances"</span>)
<span class="highlight-keyword">Dim</span> element <span class="highlight-keyword">As</span> Element = doc.GetElement(reference)
<span class="highlight-keyword">Dim</span> geomElement <span class="highlight-keyword">As</span> GeometryElement = element.Geometry(<span class="highlight-keyword">New</span> Options())
<span class="highlight-keyword">Dim</span> solid <span class="highlight-keyword">As</span> Solid = <span class="highlight-keyword">Nothing</span>
<span class="highlight-keyword">For</span> <span class="highlight-keyword">Each</span> geomObj <span class="highlight-keyword">As</span> GeometryObject <span class="highlight-keyword">In</span> geomElement
    solid = <span class="highlight-keyword">TryCast</span>(geomObj, Solid)
    <span class="highlight-keyword">If</span> solid <span class="highlight-keyword">IsNot</span> <span class="highlight-keyword">Nothing</span> <span class="highlight-keyword">Then</span>
        <span class="highlight-keyword">Exit</span> <span class="highlight-keyword">For</span>
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">If</span>
<span class="highlight-keyword">Next</span>

<span class="highlight-keyword">Dim</span> collector <span class="highlight-keyword">As</span> <span class="highlight-keyword">New</span> FilteredElementCollector(doc)
collector.OfClass(<span class="highlight-keyword">GetType</span>(FamilyInstance))
collector.WherePasses(<span class="highlight-keyword">New</span> ElementIntersectsSolidFilter(solid))
<span class="highlight-comment">' Apply intersection filter to find matches</span>
TaskDialog.Show(<span class="highlight-literal">"Revit"</span>, (collector.Count() &amp; <span class="highlight-literal">" family instances intersect with the selected element ("</span>) + element.Category.Name &amp; <span class="highlight-literal">" id:"</span> &amp; element.Id.ToString() &amp; <span class="highlight-literal">")"</span>)</pre></div></span><span id="cbc_4" x-lang="VisualBasic" codeLanguage="VisualBasic"><div class="highlight-title"><span class="highlight-copycode" onkeypress="javascript:CopyColorizedCodeCheckKey(this.parentNode, event);" tabindex="0" onmouseover="CopyCodeChangeIcon(this)" onmouseout="CopyCodeChangeIcon(this)" onclick="javascript:CopyColorizedCode(this.parentNode);"><img style="margin-right: 5px;" src="../icons/CopyCode.gif" />Copy</span>VB.NET</div><div class="code"><pre xml:space="preserve"><span class="highlight-comment">' Find intersections between family instances and a selected element</span>
<span class="highlight-keyword">Dim</span> reference <span class="highlight-keyword">As</span> Reference = uidoc.Selection.PickObject(ObjectType.Element, <span class="highlight-literal">"Select element that will be checked for intersection with all family instances"</span>)
<span class="highlight-keyword">Dim</span> element <span class="highlight-keyword">As</span> Element = doc.GetElement(reference)
<span class="highlight-keyword">Dim</span> geomElement <span class="highlight-keyword">As</span> GeometryElement = element.Geometry(<span class="highlight-keyword">New</span> Options())
<span class="highlight-keyword">Dim</span> solid <span class="highlight-keyword">As</span> Solid = <span class="highlight-keyword">Nothing</span>
<span class="highlight-keyword">For</span> <span class="highlight-keyword">Each</span> geomObj <span class="highlight-keyword">As</span> GeometryObject <span class="highlight-keyword">In</span> geomElement
    solid = <span class="highlight-keyword">TryCast</span>(geomObj, Solid)
    <span class="highlight-keyword">If</span> solid <span class="highlight-keyword">IsNot</span> <span class="highlight-keyword">Nothing</span> <span class="highlight-keyword">Then</span>
        <span class="highlight-keyword">Exit</span> <span class="highlight-keyword">For</span>
    <span class="highlight-keyword">End</span> <span class="highlight-keyword">If</span>
<span class="highlight-keyword">Next</span>

<span class="highlight-keyword">Dim</span> collector <span class="highlight-keyword">As</span> <span class="highlight-keyword">New</span> FilteredElementCollector(doc)
collector.OfClass(<span class="highlight-keyword">GetType</span>(FamilyInstance))
collector.WherePasses(<span class="highlight-keyword">New</span> ElementIntersectsSolidFilter(solid))
<span class="highlight-comment">' Apply intersection filter to find matches</span>
TaskDialog.Show(<span class="highlight-literal">"Revit"</span>, (collector.Count() &amp; <span class="highlight-literal">" family instances intersect with the selected element ("</span>) + element.Category.Name &amp; <span class="highlight-literal">" id:"</span> &amp; element.Id.ToString() &amp; <span class="highlight-literal">")"</span>)</pre></div></span></div><h1 class="heading"><span onclick="ExpandCollapse(familyToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(familyToggle, event)" tabindex="0"><img id="familyToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />Inheritance Hierarchy</span></h1><div id="familySection" class="section" name="collapseableSection" style=""><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span><span class="fs">.</span></span>Object</a><br />  <a href="b8b46cbf-9ecc-0745-ec53-c3c3b6510113.htm">Autodesk.Revit.DB<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span><span class="fs">.</span></span>ElementFilter</a><br />    <a href="e06b1e14-dd8d-8137-74ac-8ac4929eee85.htm">Autodesk.Revit.DB<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span><span class="fs">.</span></span>ElementSlowFilter</a><br />      <a href="b9e3bdcb-e85a-832d-0f51-312b3fd91cff.htm">Autodesk.Revit.DB<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span><span class="fs">.</span></span>ElementIntersectsFilter</a><br />        <span class="selflink">Autodesk.Revit.DB<span class="languageSpecificText"><span class="cs">.</span><span class="vb">.</span><span class="cpp">::</span><span class="nu">.</span><span class="fs">.</span></span>ElementIntersectsSolidFilter</span><br /></div><h1 class="heading"><span onclick="ExpandCollapse(seeAlsoToggle)" style="cursor:default;" onkeypress="ExpandCollapse_CheckKey(seeAlsoToggle, event)" tabindex="0"><img id="seeAlsoToggle" class="toggle" name="toggleSwitch" src="../icons/collapse_all.gif" />See Also</span></h1><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><a href="939e9c37-4faf-8261-94d3-e6625bdcd3cb.htm">ElementIntersectsSolidFilter Members</a></div><div class="seeAlsoStyle"><a href="87546ba7-461b-c646-cbb1-2cb8f5bff8b2.htm">Autodesk.Revit.DB Namespace</a></div></div></div></div>