{% extends "base.html" %}

{% block content %}

    <div id="sidebar">

        <h5>Revit API {{active}}</h5>

        <p class="small"><a class="api-link" href="/new_{{active}}.html">
         What's New
        </a></p>

        <span id="menu-loading" class="small text-muted"><img src="{{ url_for('static', filename="img/loader.gif") }}">
        &nbsp;Loading</span>

        {% include '%s' % namespace_year %}

        {% include 'google_search.html' %}

    </div>
    <div id="main">
        {% include '%s' % content %}
    </div>
    {# <div id="column-right">#}
        {# Comments#}
    {# </div>#}

{% endblock %}

{% block script %}

<script>
$( document ).ready(function() {
    var active_ul = "{{active_ul}}";
    var active_ul_tag = $('a[href$="{{active_ul}}"]');

    // active_ul_tag.children('li').toggleClass("open closed");
    // active_ul_tag.children('li').removeClass("open");
    // active_ul_tag.children('li').addClass("closed");
    // active_ul_tag.addClass("closed");

    active_ul_tag.parentsUntil('ul.Collapsible', 'ul').each(function(){
        // console.log(this)
        $(this).show();
        $(this).children('li').toggleClass("open closed");
        // $(this).children('li').css('font-weight','bold');
        $(this).parents('li').toggleClass("active");
        // $(this).css('font-weight','bold');
        $(this).siblings('ul').show(); // Revel Syster  ULs
    });

    active_ul_tag.parents('li').toggleClass("open closed");
    active_ul_tag.parents('li').toggleClass("active");
});
</script>

{% endblock %}
